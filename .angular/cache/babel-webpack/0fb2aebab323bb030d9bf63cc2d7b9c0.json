{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { map } from \"rxjs/operators\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nconst PROTOCOL = \"http\";\nconst PORT = 5000;\nconst API_PATH = \"users\";\nexport let AuthService = /*#__PURE__*/(() => {\n  class AuthService {\n    constructor(http) {\n      this.http = http;\n      this.baseUrl = `${PROTOCOL}://${location.hostname}:${PORT}/${API_PATH}`;\n    }\n\n    login(data) {\n      return this.authenticate(data).pipe(map(response => {\n        if (response) {\n          this.username = data.username;\n        }\n\n        return response;\n      }));\n    }\n\n    authenticate(data) {\n      return this.http.post(`${this.baseUrl}/signin`, data).pipe(map(response => {\n        this.auth_token = response.success ? response.token : null;\n        return response.success;\n      }));\n    }\n\n    create(data) {\n      return this.http.post(`${this.baseUrl}/register`, data).pipe(map(response => {\n        return response;\n      }));\n    }\n\n    update(data) {\n      return this.http.put(`${this.baseUrl}/register`, data);\n    }\n\n    delete(id) {\n      return this.http.delete(`${this.baseUrl}/register`);\n    }\n\n    getOptions() {\n      return {\n        headers: new HttpHeaders({\n          \"Authorization\": `Bearer ${this.auth_token}`\n        })\n      };\n    }\n\n    get authenticated() {\n      return !!this.auth_token;\n    }\n\n    clear() {\n      this.username = '';\n      this.auth_token = '';\n    }\n\n    get redirectUrl() {\n      let result = this._redirectUrl;\n      this._redirectUrl = '';\n      return result;\n    }\n\n    set redirectUrl(url) {\n      this._redirectUrl = url;\n    }\n\n  }\n\n  AuthService.ɵfac = function AuthService_Factory(t) {\n    return new (t || AuthService)(i0.ɵɵinject(i1.HttpClient));\n  };\n\n  AuthService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AuthService,\n    factory: AuthService.ɵfac,\n    providedIn: 'root'\n  });\n  return AuthService;\n})();","map":null,"metadata":{},"sourceType":"module"}